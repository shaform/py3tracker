<!DOCTYPE html>
<html lang="en">
  <head>
    <!--Import Google Icon Font-->
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Top Python 2 Repositories</title>
  </head>

  <body>
    <nav class="teal darken-4" role="navigation">
      <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo">Top Python 2 Repositories</a>
        <ul class="right hide-on-med-and-down">
          <li><a href="https://github.com/shaform/py3tracker">GitHub</a></li>
        </ul>

        <ul id="nav-mobile" class="side-nav">
          <li><a href="https://github.com/shaform/py3tracker">GitHub</a></li>
        </ul>
        <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
      </div>
    </nav>
    <div class="section">
      <div class="container">
        <div id="list" class="row">
        </div>
      </div>
    </div>

    <footer class="page-footer light-green lighten-2">
      <div class="footer-copyright green-text text-darken-2">
        <div class="container">
        Made by <a class="green-text text-darken-4" href="http://materializecss.com">Materialize</a>
        </div>
      </div>
    </footer>
    <!--Import jQuery before materialize.js-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>
    <script>
      (function($){
        $(function(){
          $('.button-collapse').sideNav();

          function on_success(response){
              var populate = function(data, start){
                  var cards = "";
                  $.each(data, function(i, v) {
                      var card = '<div class="col s12 m12 l6">\n' +
                                 '  <div class="card light-green lighten-5">\n' +
                                 '    <div class="card-content">\n' +
                                 '      <span class="card-title">' + (i + start) + ': ' + v['github_user'] + '/' + v['github_name'] +'</span>\n' +
                                 '      <p>Stars: ' + v['stars'] + '</p>\n' +
                                 '    </div>\n' +
                                 '    <div class="card-action">\n' +
                                 '      <a class="green-text" href="' + v['url'] + '">Repo</a>\n' +
                                 '      <a class="green-text" href="https://pypi.python.org/pypi/' + v['name'] + '">PYPI</a>\n' +
                                 '    </div>\n' +
                                 '  </div>\n' +
                                 '</div>\n';
                      cards += card;
                  })
                  return cards;
              }
              $("#list").html(populate(response.slice(0, 50), 1));
              $("#list2").html(populate(response.slice(50, 100), 51));
          };
          $.getJSON('result.json', on_success);

        }); // end of document ready
      })(jQuery); // end of jQuery name space
    </script>
  </body>
</html>
